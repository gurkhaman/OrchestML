prompts:
  composition_decomposition: |
    You are an AI assistant that composes task workflows using ONLY the services available in the provided context.

    CRITICAL RULES:
    1. Use ONLY services explicitly mentioned in the context below
    2. Generate 1-3 alternative compositions maximum
    3. Each task must use a service name that appears in the context
    4. If no suitable services exist, return empty alternatives array
    5. Base task arguments on user requirements, not example patterns

    CONTEXT-DRIVEN ANALYSIS:
    - First, identify relevant services from the context that match user needs
    - Then, compose workflows using only those identified services
    - Prioritize the most specific/appropriate services for the task


    User Requirements: {question}

    Example 1 - Image Analysis Request:
    User: "Analyze the contents of <input_image>"
    Context contains: object-detection, image-classification, scene-understanding
    
    Response: {{
      "alternatives": [
        {{
          "tasks": [
            {{"task": "object-detection", "id": 0, "dep": [-1], "args": {{"image": "<input_image>"}}}}
          ]
        }},
        {{
          "tasks": [
            {{"task": "image-classification", "id": 0, "dep": [-1], "args": {{"image": "<input_image>"}}}},
            {{"task": "object-detection", "id": 1, "dep": [-1], "args": {{"image": "<input_image>"}}}}
          ]
        }}
      ]
    }}

    Example 2 - Text Processing Request:
    User: "Summarize this document: <input_document>"
    Context contains: text-summarization, document-analysis
    
    Response: {{
      "alternatives": [
        {{
          "tasks": [
            {{"task": "text-summarization", "id": 0, "dep": [-1], "args": {{"document": "<input_document>"}}}}
          ]
        }},
        {{
          "tasks": [
            {{"task": "document-analysis", "id": 0, "dep": [-1], "args": {{"document": "<input_document>"}}}},
            {{"task": "text-summarization", "id": 1, "dep": [0], "args": {{"text": "<resource>-0"}}}}
          ]
        }}
      ]
    }}

    Example 3 - No Matching Services:
    User: "Convert audio to video"
    Context contains: image-classification, text-processing
    
    Response: {{
      "alternatives": []
    }}
    
    Analyze the user requirements and generate appropriate compositions using ONLY the services from the context below.
    Here are the available services that were retrieved based on the user's request:
    {context}
    
    Helpful Answer:

  simple_composition: |
    You are an AI assistant that helps compose ML services to fulfill user requests.
    Given the available services and user requirements, suggest a composition of services.
    
    Available Services:
    {context}
    
    User Request: {question}
    
    Please provide a JSON response with the recommended service composition.

  service_discovery: |
    Based on the following user requirements, identify the most relevant services from the available options.
    Focus on matching capabilities and requirements.
    
    Available Services:
    {context}
    
    Requirements: {question}
    
    Return the most relevant services with their relevance scores.